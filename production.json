{
  "name": "nodezoo",
  "namespace": "nodezoo",
  "id": "3c1703f1-35bf-446c-875f-9bb50fc9302c",
  "containerDefinitions": [
    {
      "type": "container",
      "id": "root",
      "name": "root"
    },
    {
      "type": "process",
      "specific": {
        "repositoryUrl": "git@github.com:rjrodger/nodezoo-index.git",
        "buildScript": "build.sh",
        "execute": {
          "args": "-e BEANSTALK_IP=127.0.0.1 -e REDIS_IP=127.0.0.1 -e ES_IP=127.0.0.1 -d",
          "exec": "/usr/bin/node /srvs/index-prod.js"
        }
      },
      "id": "nzindex",
      "name": "nzindex"
    },
    {
      "type": "process",
      "specific": {
        "repositoryUrl": "git@github.com:rjrodger/nodezoo-info.git",
        "buildScript": "build.sh",
        "execute": {
          "args": "-e BEANSTALK_IP=127.0.0.1 -e REDIS_IP=127.0.0.1 -e ES_IP=127.0.0.1 -d",
          "exec": "/usr/bin/node /srvs/info-prod.js"
        }
      },
      "id": "nzinfo",
      "name": "nzinfo"
    },
    {
      "type": "process",
      "specific": {
        "repositoryUrl": "git@github.com:rjrodger/nodezoo-web.git",
        "buildScript": "build.sh",
        "execute": {
          "args": "-p 8000:8000 -e BEANSTALK_IP=127.0.0.1 -e REDIS_IP=127.0.0.1 -e ES_IP=127.0.0.1 -d",
          "exec": "/bin/bash run.sh"
        }
      },
      "id": "nzweb",
      "name": "nzweb"
    },
    {
      "type": "docker",
      "specific": {
        "name": "redis:2.8",
        "execute": {
          "args": "-d -p 6379:6379"
        },
        "buildHead": 2,
        "dockerImageId": "3b7234aa3098129352dcc032383aaf789de2d64595938ba16302db9d1aedf8eb",
        "imageTag": "nodezoo/redis"
      },
      "id": "redis",
      "name": "redis"
    },
    {
      "type": "docker",
      "specific": {
        "name": "dockerfile/elasticsearch",
        "execute": {
          "args": "-d -p 9200:9200 -p 9300:9300 -v /mnt/elasticsearch:/data",
          "exec": "/elasticsearch/bin/elasticsearch --network.bind_host=0.0.0.0 --network.publish_host=__TARGETIP__"
        },
        "buildHead": 2,
        "dockerImageId": "f024714f6b3e6d38d9675fb7952f944b53440941441fb4386d46d9238879e8ac",
        "imageTag": "nodezoo/elasticsearch"
      },
      "id": "elasticsearch",
      "name": "elasticsearch"
    },
    {
      "type": "docker",
      "specific": {
        "name": "kdihalas/beanstalkd",
        "execute": {
          "args": "-d -p 1130:1130"
        },
        "buildHead": 2,
        "dockerImageId": "e42f91bb017ab501c66d73ed916a4aa927213818fda5298c599b55b5500936ac",
        "imageTag": "nodezoo/beanstalk"
      },
      "id": "beanstalk",
      "name": "beanstalk"
    },
    {
      "type": "process",
      "specific": {
        "repositoryUrl": "git@github.com:rjrodger/nodezoo-npm.git",
        "buildScript": "build.sh",
        "execute": {
          "args": "-e BEANSTALK_IP=127.0.0.1 -e REDIS_IP=127.0.0.1 -e ES_IP=127.0.0.1 -d",
          "exec": "/usr/bin/node srvs/npm-prod.js --seneca.log=plugin:npm"
        }
      },
      "id": "nznpm",
      "name": "nznpm"
    },
    {
      "type": "process",
      "specific": {
        "repositoryUrl": "git@github.com:rjrodger/nodezoo-github.git",
        "buildScript": "build.sh",
        "execute": {
          "args": "-e BEANSTALK_IP=127.0.0.1 -e REDIS_IP=127.0.0.1 -e ES_IP=127.0.0.1 -d",
          "exec": "/usr/bin/node srvs/github-prod.js --seneca.options.github.token=a7626b8dbcd5627671639484460b11900818a64e --seneca.log.all"
        }
      },
      "id": "nzgithub",
      "name": "nzgithub"
    }
  ],
  "topology": {
    "containers": {
      "root-16f4f95b": {
        "id": "root-16f4f95b",
        "containedBy": "root-16f4f95b",
        "containerDefinitionId": "root",
        "type": "container",
        "contains": [
          "awsMachine$fe-d4f62ce0",
          "awsMachine$svcs-d304fb60",
          "awsMachine$inf-3ea5a142"
        ],
        "specific": {}
      },
      "awsMachine$fe-d4f62ce0": {
        "id": "awsMachine$fe-d4f62ce0",
        "containedBy": "root-16f4f95b",
        "containerDefinitionId": "awsMachine$fe",
        "contains": [
          "nzweb-32970204"
        ],
        "specific": {
          "ImageId": "ami-cf0741ff"
        }
      },
      "nzweb-32970204": {
        "id": "nzweb-32970204",
        "containedBy": "awsMachine$fe-d4f62ce0",
        "containerDefinitionId": "nzweb",
        "type": "process",
        "contains": [],
        "specific": {
          "repositoryUrl": "git@github.com:rjrodger/nodezoo-web.git",
          "buildScript": "build.sh",
          "execute": {
            "args": "-p 8000:8000 -e BEANSTALK_IP=127.0.0.1 -e REDIS_IP=127.0.0.1 -e ES_IP=127.0.0.1 -d",
            "exec": "/bin/bash run.sh"
          }
        }
      },
      "awsMachine$svcs-d304fb60": {
        "id": "awsMachine$svcs-d304fb60",
        "containedBy": "root-16f4f95b",
        "containerDefinitionId": "awsMachine$svcs",
        "contains": [
          "nzinfo-11a3daca",
          "nzindex-66a4ea5c",
          "dc183979-6d25-4ec8-857f-b3485625990d",
          "b06216d3-4024-421a-953e-4f7b9e57bb97"
        ],
        "specific": {
          "ImageId": "ami-cf0741ff"
        }
      },
      "nzinfo-11a3daca": {
        "id": "nzinfo-11a3daca",
        "containedBy": "awsMachine$svcs-d304fb60",
        "containerDefinitionId": "nzinfo",
        "type": "process",
        "contains": [],
        "specific": {
          "repositoryUrl": "git@github.com:rjrodger/nodezoo-info.git",
          "buildScript": "build.sh",
          "execute": {
            "args": "-e BEANSTALK_IP=127.0.0.1 -e REDIS_IP=127.0.0.1 -e ES_IP=127.0.0.1 -d",
            "exec": "/usr/bin/node /srvs/info-prod.js"
          }
        }
      },
      "nzindex-66a4ea5c": {
        "id": "nzindex-66a4ea5c",
        "containedBy": "awsMachine$svcs-d304fb60",
        "containerDefinitionId": "nzindex",
        "type": "process",
        "contains": [],
        "specific": {
          "repositoryUrl": "git@github.com:rjrodger/nodezoo-index.git",
          "buildScript": "build.sh",
          "execute": {
            "args": "-e BEANSTALK_IP=127.0.0.1 -e REDIS_IP=127.0.0.1 -e ES_IP=127.0.0.1 -d",
            "exec": "/usr/bin/node /srvs/index-prod.js"
          }
        }
      },
      "awsMachine$inf-3ea5a142": {
        "id": "awsMachine$inf-3ea5a142",
        "containedBy": "root-16f4f95b",
        "containerDefinitionId": "awsMachine$inf",
        "contains": [
          "3693f540-5047-4df3-b4c6-453569d43fd5",
          "8d3a9e27-2a77-4740-b860-3e9ec63cc095",
          "02ff5682-eaac-4764-a42f-888ce95c03d5"
        ],
        "specific": {
          "ImageId": "ami-cf0741ff"
        }
      },
      "3693f540-5047-4df3-b4c6-453569d43fd5": {
        "id": "3693f540-5047-4df3-b4c6-453569d43fd5",
        "containedBy": "awsMachine$inf-3ea5a142",
        "containerDefinitionId": "redis",
        "type": "docker",
        "contains": [],
        "specific": {
          "dockerImageId": "3b7234aa3098129352dcc032383aaf789de2d64595938ba16302db9d1aedf8eb",
          "dockerLocalTag": "localhost:8011/nodezoo/redis",
          "imageTag": "nodezoo/redis"
        }
      },
      "8d3a9e27-2a77-4740-b860-3e9ec63cc095": {
        "id": "8d3a9e27-2a77-4740-b860-3e9ec63cc095",
        "containedBy": "awsMachine$inf-3ea5a142",
        "containerDefinitionId": "elasticsearch",
        "type": "docker",
        "contains": [],
        "specific": {
          "dockerImageId": "f024714f6b3e6d38d9675fb7952f944b53440941441fb4386d46d9238879e8ac",
          "dockerLocalTag": "localhost:8011/nodezoo/elasticsearch",
          "imageTag": "nodezoo/elasticsearch"
        }
      },
      "02ff5682-eaac-4764-a42f-888ce95c03d5": {
        "id": "02ff5682-eaac-4764-a42f-888ce95c03d5",
        "containedBy": "awsMachine$inf-3ea5a142",
        "containerDefinitionId": "beanstalk",
        "type": "docker",
        "contains": [],
        "specific": {
          "dockerImageId": "e42f91bb017ab501c66d73ed916a4aa927213818fda5298c599b55b5500936ac",
          "dockerLocalTag": "localhost:8011/nodezoo/beanstalk",
          "imageTag": "nodezoo/beanstalk"
        }
      },
      "dc183979-6d25-4ec8-857f-b3485625990d": {
        "id": "dc183979-6d25-4ec8-857f-b3485625990d",
        "containedBy": "awsMachine$svcs-d304fb60",
        "containerDefinitionId": "nznpm",
        "type": "process",
        "contains": [],
        "specific": {}
      },
      "b06216d3-4024-421a-953e-4f7b9e57bb97": {
        "id": "b06216d3-4024-421a-953e-4f7b9e57bb97",
        "containedBy": "awsMachine$svcs-d304fb60",
        "containerDefinitionId": "nzgithub",
        "type": "process",
        "contains": [],
        "specific": {}
      }
    }
  }
}